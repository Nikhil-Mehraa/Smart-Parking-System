{"ast":null,"code":"var _jsxFileName = \"/Users/nikhilmehra/Downloads/prototype/final/frontend/src/SlotGrid.js\";\nimport React from 'react';\n\n// function isSlotBooked(slot, date, start, end, endDate) {\n//   if (slot.status === 'reserved') return true;\n//   if (!slot.bookings) return false;\n\n//   const reqStart = new Date(`${date}T${start}:00`).getTime();\n//   const reqEnd = new Date(`${endDate}T${end}:00`).getTime();\n//   return slot.bookings.some(b => {\n//     const bStart = new Date(`${b.date}T${b.start}:00`).getTime();\n//     const bEnd = new Date(`${b.endDate}T${b.end}:00`).getTime();\n//     return !(reqEnd <= bStart || reqStart >= bEnd);\n//   });\n// }\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction isSlotBooked(slot, date, start, end, endDate) {\n  if (slot.status === 'out_of_order') return false; // <-- Add this line\n  if (slot.status === 'reserved') return true;\n  if (!slot.bookings) return false;\n  const reqStart = new Date(`${date}T${start}:00`).getTime();\n  const reqEnd = new Date(`${endDate}T${end}:00`).getTime();\n  return slot.bookings.some(b => !(reqEnd <= new Date(`${b.date}T${b.start}:00`).getTime() || reqStart >= new Date(`${b.endDate}T${b.end}:00`).getTime()));\n}\nexport default function SlotGrid({\n  slots,\n  date,\n  start,\n  end,\n  endDate,\n  selectedSlots,\n  toggleSlotSelection,\n  availableSlotData\n}) {\n  if (!slots || !slots.length) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"status\",\n    children: \"No slots available.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 12\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"slot-grid\",\n    children: slots.map(slot => {\n      const slotData = availableSlotData.find(s => s.id === slot.id);\n      const isBooked = isSlotBooked(slot, date, start, end, endDate) || (slotData === null || slotData === void 0 ? void 0 : slotData.booked) && slotData.booked;\n      const isSelected = selectedSlots.includes(slot.id);\n      let statusClass = '';\n      if (isBooked) statusClass = 'reserved';else if (slot.status === 'out_of_order') statusClass = 'out_of_order';else statusClass = 'available';\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `slot ${statusClass} ${isSelected ? 'selected' : ''}`,\n        onClick: () => !isBooked && toggleSlotSelection(slot.id),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Slot \", slot.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), slotData && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"slot-price\",\n          children: [\"\\u20AC\", slotData.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: isBooked ? 'Booked' : slot.status.replace('_', ' ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, slot.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_c = SlotGrid;\nvar _c;\n$RefreshReg$(_c, \"SlotGrid\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","isSlotBooked","slot","date","start","end","endDate","status","bookings","reqStart","Date","getTime","reqEnd","some","b","SlotGrid","slots","selectedSlots","toggleSlotSelection","availableSlotData","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","slotData","find","s","id","isBooked","booked","isSelected","includes","statusClass","onClick","price","replace","_c","$RefreshReg$"],"sources":["/Users/nikhilmehra/Downloads/prototype/final/frontend/src/SlotGrid.js"],"sourcesContent":["import React from 'react';\n\n// function isSlotBooked(slot, date, start, end, endDate) {\n//   if (slot.status === 'reserved') return true;\n//   if (!slot.bookings) return false;\n\n//   const reqStart = new Date(`${date}T${start}:00`).getTime();\n//   const reqEnd = new Date(`${endDate}T${end}:00`).getTime();\n//   return slot.bookings.some(b => {\n//     const bStart = new Date(`${b.date}T${b.start}:00`).getTime();\n//     const bEnd = new Date(`${b.endDate}T${b.end}:00`).getTime();\n//     return !(reqEnd <= bStart || reqStart >= bEnd);\n//   });\n// }\nfunction isSlotBooked(slot, date, start, end, endDate) {\n  if (slot.status === 'out_of_order') return false; // <-- Add this line\n  if (slot.status === 'reserved') return true;\n  if (!slot.bookings) return false;\n  const reqStart = new Date(`${date}T${start}:00`).getTime();\n  const reqEnd = new Date(`${endDate}T${end}:00`).getTime();\n  return slot.bookings.some(\n    b =>\n      !(reqEnd <= new Date(`${b.date}T${b.start}:00`).getTime() || \n        reqStart >= new Date(`${b.endDate}T${b.end}:00`).getTime())\n  );\n}\n\n\n\nexport default function SlotGrid({\n  slots,\n  date,\n  start,\n  end,\n  endDate,\n  selectedSlots,\n  toggleSlotSelection,\n  availableSlotData,\n}) {\n  if (!slots || !slots.length)\n    return <p className=\"status\">No slots available.</p>;\n\n  return (\n    <div className=\"slot-grid\">\n      {slots.map(slot => {\n        const slotData = availableSlotData.find(s => s.id === slot.id);\n        const isBooked = isSlotBooked(slot, date, start, end, endDate) || (slotData?.booked && slotData.booked);\n        const isSelected = selectedSlots.includes(slot.id);\n\n        let statusClass = '';\n        if (isBooked) statusClass = 'reserved';\n        else if (slot.status === 'out_of_order') statusClass = 'out_of_order';\n        else statusClass = 'available';\n\n        return (\n          <div\n            key={slot.id}\n            className={`slot ${statusClass} ${isSelected ? 'selected' : ''}`}\n            onClick={() => !isBooked && toggleSlotSelection(slot.id)}\n          >\n            <p>Slot {slot.id}</p>\n            {slotData && <p className=\"slot-price\">â‚¬{slotData.price}</p>}\n            <p>{isBooked ? 'Booked' : slot.status.replace('_', ' ')}</p>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,SAASC,YAAYA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEC,GAAG,EAAEC,OAAO,EAAE;EACrD,IAAIJ,IAAI,CAACK,MAAM,KAAK,cAAc,EAAE,OAAO,KAAK,CAAC,CAAC;EAClD,IAAIL,IAAI,CAACK,MAAM,KAAK,UAAU,EAAE,OAAO,IAAI;EAC3C,IAAI,CAACL,IAAI,CAACM,QAAQ,EAAE,OAAO,KAAK;EAChC,MAAMC,QAAQ,GAAG,IAAIC,IAAI,CAAC,GAAGP,IAAI,IAAIC,KAAK,KAAK,CAAC,CAACO,OAAO,CAAC,CAAC;EAC1D,MAAMC,MAAM,GAAG,IAAIF,IAAI,CAAC,GAAGJ,OAAO,IAAID,GAAG,KAAK,CAAC,CAACM,OAAO,CAAC,CAAC;EACzD,OAAOT,IAAI,CAACM,QAAQ,CAACK,IAAI,CACvBC,CAAC,IACC,EAAEF,MAAM,IAAI,IAAIF,IAAI,CAAC,GAAGI,CAAC,CAACX,IAAI,IAAIW,CAAC,CAACV,KAAK,KAAK,CAAC,CAACO,OAAO,CAAC,CAAC,IACvDF,QAAQ,IAAI,IAAIC,IAAI,CAAC,GAAGI,CAAC,CAACR,OAAO,IAAIQ,CAAC,CAACT,GAAG,KAAK,CAAC,CAACM,OAAO,CAAC,CAAC,CAChE,CAAC;AACH;AAIA,eAAe,SAASI,QAAQA,CAAC;EAC/BC,KAAK;EACLb,IAAI;EACJC,KAAK;EACLC,GAAG;EACHC,OAAO;EACPW,aAAa;EACbC,mBAAmB;EACnBC;AACF,CAAC,EAAE;EACD,IAAI,CAACH,KAAK,IAAI,CAACA,KAAK,CAACI,MAAM,EACzB,oBAAOpB,OAAA;IAAGqB,SAAS,EAAC,QAAQ;IAAAC,QAAA,EAAC;EAAmB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAEtD,oBACE1B,OAAA;IAAKqB,SAAS,EAAC,WAAW;IAAAC,QAAA,EACvBN,KAAK,CAACW,GAAG,CAACzB,IAAI,IAAI;MACjB,MAAM0B,QAAQ,GAAGT,iBAAiB,CAACU,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAK7B,IAAI,CAAC6B,EAAE,CAAC;MAC9D,MAAMC,QAAQ,GAAG/B,YAAY,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEC,GAAG,EAAEC,OAAO,CAAC,IAAK,CAAAsB,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,MAAM,KAAIL,QAAQ,CAACK,MAAO;MACvG,MAAMC,UAAU,GAAGjB,aAAa,CAACkB,QAAQ,CAACjC,IAAI,CAAC6B,EAAE,CAAC;MAElD,IAAIK,WAAW,GAAG,EAAE;MACpB,IAAIJ,QAAQ,EAAEI,WAAW,GAAG,UAAU,CAAC,KAClC,IAAIlC,IAAI,CAACK,MAAM,KAAK,cAAc,EAAE6B,WAAW,GAAG,cAAc,CAAC,KACjEA,WAAW,GAAG,WAAW;MAE9B,oBACEpC,OAAA;QAEEqB,SAAS,EAAE,QAAQe,WAAW,IAAIF,UAAU,GAAG,UAAU,GAAG,EAAE,EAAG;QACjEG,OAAO,EAAEA,CAAA,KAAM,CAACL,QAAQ,IAAId,mBAAmB,CAAChB,IAAI,CAAC6B,EAAE,CAAE;QAAAT,QAAA,gBAEzDtB,OAAA;UAAAsB,QAAA,GAAG,OAAK,EAACpB,IAAI,CAAC6B,EAAE;QAAA;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACpBE,QAAQ,iBAAI5B,OAAA;UAAGqB,SAAS,EAAC,YAAY;UAAAC,QAAA,GAAC,QAAC,EAACM,QAAQ,CAACU,KAAK;QAAA;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5D1B,OAAA;UAAAsB,QAAA,EAAIU,QAAQ,GAAG,QAAQ,GAAG9B,IAAI,CAACK,MAAM,CAACgC,OAAO,CAAC,GAAG,EAAE,GAAG;QAAC;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA,GANvDxB,IAAI,CAAC6B,EAAE;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAOT,CAAC;IAEV,CAAC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAACc,EAAA,GAvCuBzB,QAAQ;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
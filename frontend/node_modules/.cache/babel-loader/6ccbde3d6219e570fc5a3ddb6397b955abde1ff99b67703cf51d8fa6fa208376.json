{"ast":null,"code":"var _jsxFileName = \"/Users/nikhilmehra/Downloads/prototype/ise-prototype/frontend/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport './App.css';\nimport { normalizeDate } from './TimeSelector';\nimport AnalyticsPage from \"./AnalyticsPage\";\nimport { io } from \"socket.io-client\";\nimport { Chart as ChartJS, ArcElement, CategoryScale, LinearScale, BarElement, Tooltip, Legend, Title } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, CategoryScale, LinearScale, BarElement, Tooltip, Legend, Title);\nfunction SlotGrid({\n  slots,\n  date,\n  start,\n  end,\n  endDate,\n  selectedSlots,\n  toggleSlotSelection,\n  availableSlotData\n}) {\n  function isSlotBooked(slot, date, start, end, endDate) {\n    if (slot.status === \"reserved\") return true;\n    if (!slot.bookings) return false;\n    const reqStart = new Date(`${date}T${start}:00`).getTime();\n    const reqEnd = new Date(`${endDate}T${end}:00`).getTime();\n    return slot.bookings.some(b => {\n      const bStart = new Date(`${b.date}T${b.start}:00`).getTime();\n      const bEnd = new Date(`${b.endDate}T${b.end}:00`).getTime();\n      return !(reqEnd <= bStart || reqStart >= bEnd);\n    });\n  }\n  if (!slots || slots.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No slots available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"slot-grid\",\n    children: slots.map(slot => {\n      const slotData = availableSlotData.find(sd => sd.id === slot.id);\n      const booked = isSlotBooked(slot, date, start, end, endDate);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `slot ${slot.status} ${selectedSlots.some(s => s.id === slot.id) ? \"selected\" : \"\"}`,\n        onClick: () => !booked && toggleSlotSelection(slot),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Slot \", slot.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this), slotData && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"slot-price\",\n          children: [\"\\u20AC\", slotData.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `status-badge status-${slot.status}`,\n          children: slot.status.replace(/_/g, \" \")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this)]\n      }, slot.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_c = SlotGrid;\nexport default SlotGrid;\nvar _c;\n$RefreshReg$(_c, \"SlotGrid\");","map":{"version":3,"names":["React","useEffect","useState","normalizeDate","AnalyticsPage","io","Chart","ChartJS","ArcElement","CategoryScale","LinearScale","BarElement","Tooltip","Legend","Title","jsxDEV","_jsxDEV","register","SlotGrid","slots","date","start","end","endDate","selectedSlots","toggleSlotSelection","availableSlotData","isSlotBooked","slot","status","bookings","reqStart","Date","getTime","reqEnd","some","b","bStart","bEnd","length","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","slotData","find","sd","id","booked","s","onClick","price","replace","_c","$RefreshReg$"],"sources":["/Users/nikhilmehra/Downloads/prototype/ise-prototype/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport './App.css';\nimport { normalizeDate } from './TimeSelector';\nimport AnalyticsPage from \"./AnalyticsPage\";\nimport { io } from \"socket.io-client\";\nimport { Chart as ChartJS, ArcElement, CategoryScale, LinearScale, BarElement, Tooltip, Legend, Title } from 'chart.js';\nChartJS.register(ArcElement, CategoryScale, LinearScale, BarElement, Tooltip, Legend, Title);\n\nfunction SlotGrid({ slots, date, start, end, endDate, selectedSlots, toggleSlotSelection, availableSlotData }) {\n  function isSlotBooked(slot, date, start, end, endDate) {\n    if (slot.status === \"reserved\") return true;\n    if (!slot.bookings) return false;\n    const reqStart = new Date(`${date}T${start}:00`).getTime();\n    const reqEnd = new Date(`${endDate}T${end}:00`).getTime();\n    return slot.bookings.some(b => {\n      const bStart = new Date(`${b.date}T${b.start}:00`).getTime();\n      const bEnd = new Date(`${b.endDate}T${b.end}:00`).getTime();\n      return !(reqEnd <= bStart || reqStart >= bEnd);\n    });\n  }\n  if (!slots || slots.length === 0) {\n    return <div>No slots available.</div>;\n  }\n  return (\n    <div className=\"slot-grid\">\n      {slots.map(slot => {\n        const slotData = availableSlotData.find(sd => sd.id === slot.id);\n        const booked = isSlotBooked(slot, date, start, end, endDate);\n        return (\n          <div\n            key={slot.id}\n            className={`slot ${slot.status} ${selectedSlots.some(s => s.id === slot.id) ? \"selected\" : \"\"}`}\n            onClick={() => !booked && toggleSlotSelection(slot)}\n          >\n            <p>Slot {slot.id}</p>\n            {slotData && <p className=\"slot-price\">â‚¬{slotData.price}</p>}\n            <span className={`status-badge status-${slot.status}`}>\n              {slot.status.replace(/_/g, \" \")}\n            </span>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default SlotGrid;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}